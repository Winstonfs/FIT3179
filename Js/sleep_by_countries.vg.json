{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Bar Chart with a spacing-saving y-axis",
    "data": {"url": "https://raw.githubusercontent.com/Winstonfs/FIT3179/main/data/Countries_sleep_time.csv"},
    "height": 300,
    "width": 300,
    "title": {"text": "Top 10 Countries with Most Sleep"},
    "transform": [
        {
          "window": [{
            "op": "rank",
            "as": "rank"
          }],
          "sort": [{ "field": "Minutes", "order": "descending" }]
        }, {
          "filter": "datum.rank <= 10"
        }
      ],
    "mark": {"type": "bar", "height": {"band": 0.5}, "cornerRadiusEnd":5},
    "encoding": {
        "x": {
            "field": "Minutes",
            "type": "quantitative",
            "title": "Average Sleep Duration",
            "scale": {
              "domainMax": 600},
            "axis": {"labelAngle": -0
            }
          },
      "y": {
        "field": "Country",
        "title": null,
        "sort": {"field": "Minutes", "op": "average", "order":"descending"},
        "axis": {
          "bandPosition": 0,
          "grid": true,
          "domain": false,
          "ticks": false,
          "labelBaseline": "middle",
          "titleAlign": "left"
        }
      }
      
    }
    
  }